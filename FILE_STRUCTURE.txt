BurnAfterIt v2.0 - Complete File Structure
===========================================

PROJECT ROOT
â”œâ”€â”€ ğŸ“ backend/                    # Flask REST API
â”‚   â”œâ”€â”€ ğŸ“ api/                    # API Route Handlers
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ shouts.py              # Shout endpoints (create, get, check)
â”‚   â”‚   â”œâ”€â”€ chat.py                # Chat endpoints (create room, messages)
â”‚   â”‚   â”œâ”€â”€ utils.py               # Utilities (QR, health check)
â”‚   â”‚   â””â”€â”€ admin.py               # Admin endpoints (cleanup)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ services/               # Business Logic Layer
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ shout_service.py       # Shout operations
â”‚   â”‚   â”œâ”€â”€ chat_service.py        # Chat operations
â”‚   â”‚   â”œâ”€â”€ validation.py          # Input validation
â”‚   â”‚   â””â”€â”€ cleanup_service.py     # Cleanup operations
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ models/                 # Data Access Layer
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ supabase_client.py     # Supabase connection
â”‚   â”‚
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ app_api.py                 # Application factory
â”‚   â”œâ”€â”€ config.py                  # Configuration management
â”‚   â”œâ”€â”€ requirements.txt           # Python dependencies
â”‚   â”œâ”€â”€ Dockerfile                 # Backend container definition
â”‚   â””â”€â”€ .env                       # Environment variables
â”‚
â”œâ”€â”€ ğŸ“ frontend/                   # React SPA
â”‚   â”œâ”€â”€ ğŸ“ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ api/                # API Client Layer
â”‚   â”‚   â”‚   â”œâ”€â”€ client.js          # Axios configuration
â”‚   â”‚   â”‚   â”œâ”€â”€ shouts.js          # Shout API calls
â”‚   â”‚   â”‚   â”œâ”€â”€ chat.js            # Chat API calls
â”‚   â”‚   â”‚   â””â”€â”€ utils.js           # Utility API calls
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ pages/              # Page Components
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.jsx           # Landing page
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.css
â”‚   â”‚   â”‚   â”œâ”€â”€ CreateShout.jsx    # Create content
â”‚   â”‚   â”‚   â”œâ”€â”€ CreateShout.css
â”‚   â”‚   â”‚   â”œâ”€â”€ ViewShout.jsx      # View content
â”‚   â”‚   â”‚   â”œâ”€â”€ ViewShout.css
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatRoom.jsx       # Chat interface
â”‚   â”‚   â”‚   â””â”€â”€ ChatRoom.css
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ App.jsx                # Main app component
â”‚   â”‚   â”œâ”€â”€ App.css                # App styles
â”‚   â”‚   â”œâ”€â”€ main.jsx               # Entry point
â”‚   â”‚   â””â”€â”€ index.css              # Global styles
â”‚   â”‚
â”‚   â”œâ”€â”€ public/                    # Static assets
â”‚   â”œâ”€â”€ package.json               # Node dependencies
â”‚   â”œâ”€â”€ vite.config.js             # Vite configuration
â”‚   â”œâ”€â”€ Dockerfile                 # Frontend container
â”‚   â”œâ”€â”€ nginx.conf                 # Nginx configuration
â”‚   â””â”€â”€ .env                       # Environment variables
â”‚
â”œâ”€â”€ ğŸ“ supabase/                   # Database
â”‚   â””â”€â”€ migrations/
â”‚       â””â”€â”€ create_burnafterit_schema.sql
â”‚
â”œâ”€â”€ ğŸ“„ docker-compose.yml          # Container orchestration
â”œâ”€â”€ ğŸ“„ .dockerignore               # Docker ignore patterns
â”œâ”€â”€ ğŸ“„ .env.example                # Environment template
â”‚
â”œâ”€â”€ ğŸ“„ QUICK_START.md              # â­ Start here!
â”œâ”€â”€ ğŸ“„ README.new.md               # Complete documentation
â”œâ”€â”€ ğŸ“„ PROJECT_SUMMARY.md          # What was done
â”œâ”€â”€ ğŸ“„ MIGRATION_GUIDE.md          # v1 to v2 migration
â”œâ”€â”€ ğŸ“„ setup_supabase_storage.md   # Storage setup
â”œâ”€â”€ ğŸ“„ setup-storage.sql           # Storage SQL setup
â”‚
â”œâ”€â”€ ğŸ”§ start-dev.sh                # Start development
â”œâ”€â”€ ğŸ”§ start-docker.sh             # Start with Docker
â”‚
â””â”€â”€ ğŸ“ [OLD FILES - Not Used]     # Original v1 files
    â”œâ”€â”€ app.py                     # Old monolithic app
    â”œâ”€â”€ templates/                 # Old Flask templates
    â”œâ”€â”€ static/                    # Old static files
    â”œâ”€â”€ config.json                # Old configuration
    â”œâ”€â”€ requirements.txt           # Old dependencies
    â””â”€â”€ README.md                  # Old readme

DOCUMENTATION READING ORDER
===========================
1. QUICK_START.md        - Get it running (5 min)
2. README.new.md         - Full documentation
3. PROJECT_SUMMARY.md    - What changed
4. MIGRATION_GUIDE.md    - If migrating from v1

KEY CONCEPTS
============
Backend (Flask API):
- RESTful JSON API
- Modular architecture (api/services/models)
- Supabase for database and storage
- Docker containerization

Frontend (React SPA):
- Vite for fast development
- React Router for navigation
- Axios for API calls
- Modern, responsive UI

Database (PostgreSQL):
- Supabase managed database
- Row Level Security (RLS)
- Automatic expiration
- View tracking

Storage (Supabase Storage):
- Media file storage
- Signed URLs for security
- CDN integration
- Automatic cleanup

ENDPOINTS
=========
Shouts:
- POST   /api/shouts/create
- GET    /api/shouts/:hash
- GET    /api/shouts/check/:hash

Chat:
- POST   /api/chat/create
- GET    /api/chat/:hash
- GET    /api/chat/:hash/messages
- POST   /api/chat/:hash/message

Utils:
- GET    /api/utils/qr
- GET    /api/utils/health

Admin:
- POST   /api/admin/cleanup

TECH STACK
==========
Backend:
- Python 3.11
- Flask 3.0
- Supabase Python Client
- Gunicorn (production)

Frontend:
- React 18
- Vite 5
- React Router 6
- Axios
- Modern CSS

Database:
- PostgreSQL (via Supabase)
- Supabase Storage

Infrastructure:
- Docker
- Docker Compose
- Nginx (frontend proxy)

DEPLOYMENT
==========
Development:
$ ./start-dev.sh

Production:
$ ./start-docker.sh

Ports:
- Frontend: 5173 (dev) / 3000 (prod)
- Backend: 5000

URLs:
- Dev: http://localhost:5173
- Prod: http://localhost:3000
- API: http://localhost:5000
